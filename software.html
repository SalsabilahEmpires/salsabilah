<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Salsabilah Amin Empires | Cloud POS</title>
    <style>
        :root { --primary: #1a252f; --gold: #d4af37; --bg: #f4f7f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; }
        .header { background: var(--primary); color: white; padding: 15px; text-align: center; border-bottom: 4px solid var(--gold); }
        .dashboard { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .card { background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; }
        .panel { background: white; margin: 0 15px 15px; padding: 20px; border-radius: 12px; }
        input, select, button { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { background: var(--primary); color: white; font-weight: bold; border: none; cursor: pointer; }
        .sync-status { font-size: 10px; text-align: center; color: var(--gold); margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 12px; }
        th, td { text-align: left; padding: 10px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>

<div class="header">
    <h1 style="font-size:18px; margin:0;">üëë SALSABILAH AMIN EMPIRES</h1>
    <small>UK Registered: 09814720</small>
</div>

<div class="dashboard">
    <div class="card"><h3>‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂</h3><h2 id="cashDisp">0</h2></div>
    <div class="card"><h3>‡¶∏‡ßç‡¶ü‡¶ï</h3><h2 id="stockDisp">0</h2></div>
</div>

<div class="sync-status" id="syncStatus">Cloud Sync: Standby</div>

<div class="panel">
    <h3>üõí ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶ì ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</h3>
    <select id="type">
        <option value="SALE">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü (Sale)</option>
        <option value="STOCK">‡¶∏‡ßç‡¶ü‡¶ï ‡¶á‡¶® (Stock-In)</option>
        <option value="EXPENSE">‡¶ñ‡¶∞‡¶ö (Expense)</option>
    </select>
    <input type="text" id="desc" placeholder="‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ/‡¶¨‡¶ø‡¶¨‡¶∞‡¶£">
    <input type="number" id="amt" placeholder="‡¶ü‡¶æ‡¶ï‡¶æ/‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£">
    <button onclick="saveToEmpire()">‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ì ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶° ‡¶∏‡ßá‡¶≠</button>
</div>

<div class="panel">
    <h3>üìú ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶®</h3>
    <table>
        <thead><tr><th>‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</th><th>‡¶ü‡¶æ‡¶á‡¶™</th><th>‡¶ü‡¶æ‡¶ï‡¶æ</th></tr></thead>
        <tbody id="ledgerBody"></tbody>
    </table>
</div>

<script>
    // --- ‡¶ó‡¶ø‡¶ü‡¶π‡¶æ‡¶¨ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) ---
    const GITHUB_TOKEN = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞_‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤_‡¶ü‡ßã‡¶ï‡ßá‡¶®_‡¶è‡¶ñ‡¶æ‡¶®‡ßá"; 
    const REPO_OWNER = "SalsabilahEmpires";
    const REPO_NAME = "SALSABILAH-AMIN-EMPIRES";

    let db = JSON.parse(localStorage.getItem('empire_db')) || { cash: 0, stock: 0, ledger: [] };

    function render() {
        document.getElementById('cashDisp').innerText = db.cash;
        document.getElementById('stockDisp').innerText = db.stock;
        document.getElementById('ledgerBody').innerHTML = db.ledger.slice(0,10).map(r => `
            <tr><td>${r.desc}</td><td>${r.type}</td><td>${r.amt}</td></tr>
        `).join('');
    }

    async function saveToEmpire() {
        const type = document.getElementById('type').value;
        const desc = document.getElementById('desc').value;
        const amt = parseFloat(document.getElementById('amt').value);

        if(!desc || !amt) return alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®!");

        // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        if(type === 'SALE') db.cash += amt;
        else if(type === 'STOCK') db.stock += amt;
        else db.cash -= amt;

        db.ledger.unshift({ date: new Date().toLocaleString(), type, desc, amt });
        localStorage.setItem('empire_db', JSON.stringify(db));
        render();

        // ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶° ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶≤‡¶ú‡¶ø‡¶ï
        document.getElementById('syncStatus').innerText = "Syncing with GitHub...";
        await syncToGitHub();
    }

    async function syncToGitHub() {
        // ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ inventory_mapping.json ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø GitHub API ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá
        console.log("GitHub API push logic goes here...");
        setTimeout(() => {
            document.getElementById('syncStatus').innerText = "Cloud Sync: Success ‚úÖ";
        }, 2000);
    }

    render();
</script>

</body>
</html>
