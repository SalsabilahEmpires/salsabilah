<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warranty Verification - Salsabilah Amin Empires</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0a0a0a; color: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { background: #1a1a1a; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.5); width: 100%; max-width: 400px; text-align: center; border: 1px solid #333; }
        h2 { color: #d4af37; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px; }
        input { width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #444; border-radius: 8px; background: #222; color: #fff; text-align: center; font-size: 16px; }
        button { width: 100%; padding: 15px; background: #d4af37; color: #000; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; text-transform: uppercase; transition: 0.3s; }
        button:hover { background: #fff; }
        #result { margin-top: 25px; display: none; padding: 20px; border-radius: 10px; background: #222; border-left: 5px solid #d4af37; text-align: left; line-height: 1.6; }
        .footer-text { margin-top: 20px; font-size: 10px; color: #777; }
    </style>
</head>
<body>

<div class="card">
    <h2>Verify Legacy</h2>
    <p style="font-size: 13px; color: #aaa;">Enter your Invoice ID to verify your Global Warranty status.</p>
    
    <input type="text" id="invId" placeholder="e.g. INV-0644">
    <button onclick="checkWarranty()">Verify Now</button>

    <div id="result">
        <strong style="color: #d4af37;">VERIFIED AUTHENTIC</strong><br>
        <span id="data"></span>
    </div>
    
    <div class="footer-text">SALSABILAH AMIN EMPIRES LTD. | UK REG NO: 09814720</div>
</div>

<script>
    async function checkWarranty() {
        const input = document.getElementById('invId').value.toUpperCase();
        const resultDiv = document.getElementById('result');
        const dataDiv = document.getElementById('data');

        try {
            const response = await fetch('../empire-data.csv');
            const text = await response.text();
            const rows = text.split('\n');
            
            let found = false;
            rows.forEach(row => {
                const cols = row.split(',');
                if(cols[0] === input) {
                    dataDiv.innerHTML = `
                        <b>Customer:</b> ${cols[2]}<br>
                        <b>Product:</b> ${cols[3]}<br>
                        <b>Expiry:</b> ${cols[6]}<br>
                        <b>Status:</b> Active Warranty
                    `;
                    found = true;
                }
            });

            if(found) {
                resultDiv.style.display = 'block';
            } else {
                alert("No record found. Please verify the Invoice ID.");
            }
        } catch (e) {
            console.error("Data fetch error.");
        }
    }
</script>

</body>
</html>
